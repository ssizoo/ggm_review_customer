{"version":3,"sources":["lib/history.js","lib/saga/reduxActionUtils.js","modules/core/account/store.js","modules/core/app/store.js","lib/token.js","lib/request/getCheckedToken.js","modules/core/app/containers/AppLoader/AppLoader.jsx","modules/core/account/components/Login/Login.jsx","modules/core/account/containers/LoginPage/LoginPage.jsx","components/Common/Page/Page.jsx","lib/request/axios.js","lib/request/requestErrorHandler.js","lib/request/request.js","modules/ceo/api.js","modules/ceo/components/ReviewDetail/ReviewDetail.jsx","modules/ceo/components/ReviewList/ReviewList.jsx","modules/ceo/containers/ReviewListPage/ReviewListPage.jsx","modules/customer/api.js","modules/customer/components/ReviewForm/TermsModal/TermsModal.jsx","modules/customer/components/ReviewForm/ReviewForm.jsx","modules/customer/containers/ReviewEventPage/ReviewEventPage.jsx","modules/customer/containers/ReviewSuccessPage/ReviewSuccessPage.jsx","Routes.js","modules/core/app/sagas.js","modules/core/account/api.js","lib/message.js","modules/core/account/sagas.js","modules/core/agencies/store.js","modules/core/agencies/api.js","lib/saga/apiSaga.js","modules/core/agencies/sagas.js","modules/core/index.js","store/rootReducer.js","store/rootSaga.js","store/index.js","App.js","serviceWorker.js","index.js"],"names":["createBrowserHistory","makeAsyncActionsTypes","prefix","actionName","INDEX","REQUEST","SUCCESS","FAIL","makeActionCreator","actionType","payload","type","makeAsyncActionCreator","actions","actionCreator","request","success","fail","actionTypes","TOKEN_LOGIN","LOGIN","JOIN","LOGOUT","FETCH_USER","SET_USER","tokenLogin","login","join","logout","initialState","loading","user","error","reducer","state","action","LOADING","LOADED","SET_TOKEN","UNSET_TOKEN","setLoaded","setToken","unSetToken","loaded","token","process","localStorage","setItem","removeToken","removeItem","getRemember","getItem","getCheckedToken","decoded","jwt","decode","exp","Math","round","Date","getTime","remember","AppLoader","dispatch","useDispatch","isAuthenticated","useSelector","store","account","useEffect","localToken","toString","Login","handleSubmit","isMobile","links","useState","loginId","password","values","setValues","handleChange","e","target","name","checked","value","style","maxWidth","margin","padding","marginTop","marginBottom","textAlign","fontSize","fontWeight","color","className","Item","rules","required","message","UserOutlined","placeholder","onChange","size","LockOutlined","htmlType","onClick","alert","block","connect","email","props","useMediaQuery","console","log","to","Layout","Content","Footer","Header","baseURL","axios","fetch","create","interceptors","use","config","headers","Authorization","Promise","reject","setAuthHeader","defaults","ApiException","this","errors","status","requestErrorHandler","response","data","default","dataHandler","res","get","url","method","params","then","catch","errorHandler","post","put","del","multi","json","api","meta","fetchCash","cash","sendGifticon","reviewId","resendGifticon","cancelGifticon","ReviewDetail","open","review","handleClose","autoHyphen","setLoading","visible","onCancel","onOk","top","footer","storeName","mobile","gifticonName","moment","createdAt","fromNow","align","done","id","finally","danger","plain","paddingTop","paddingBottom","src","image","width","ReviewList","handleLogout","reviews","setReviews","pagination","setPagenation","setOpen","currentReview","setCurrentReview","setMobile","setCashes","ceoCash","setCeoCash","loadCeoCash","page","current_page","total","lastPage","last_page","perPage","per_page","cashes","display","marginLeft","cursor","LoginOutlined","borderBottom","gutter","replace","flex","spinning","map","marginRight","alignItems","handleOpen","shape","disabled","justifyContent","window","scrollTo","ReviewListPage","role","history","push","fetchEvent","storeId","gifticonCode","register","TermsModal","modal","title","afterClose","split","line","index","initialModal","initialInputs","confirm","apiUrl","ReviewForm","event","setModal","inputs","setInputs","uploadProps","multiple","accept","info","file","photo","borderLeft","paddingLeft","maxLength","minHeight","backgroundColor","borderRadius","showUploadList","alt","icon","UploadOutlined","border","test","ReviewEventPage","useParams","setEvent","useHistory","ReviewSuccessPage","Routes","app","path","exact","component","LoginPage","clientSaga","resetToken","undefined","all","takeEvery","accountTypes","accountApi","getUser","forceLogin","loginSaga","tokenLoignSaga","joinSaga","accountSagas","call","result","setTokenAction","failAction","takeLatest","FETCH_AGENCIES","FETCH_ONE_AGENCIES","CREATE_AGENCIES","UPDATE_AGENCIES","DELETE_AGENCIES","CLOSE_MODAL","OPEN_MODAL","REMOVE_ERROR","fetchAgencies","fetchOneAgencies","createAgencies","updateAgencies","deleteAgencies","closeModal","initialModalState","requesting","agency","agencies","agenciesReducer","produce","draft","agenciesApi","fetchOne","update","delete","apiSaga","asyncAction","options","apiPayload","fetchAgenciesSaga","createAgenciesSaga","fetchOneAgenciesSaga","updateAgenciesSaga","deleteAgenciesSaga","agenciesSagas","sagas","reducers","appSagas","rootReducer","combineReducers","coreReducers","rootSaga","coreSagas","sagaMiddleware","createSagaMiddleware","composeSetup","compose","createStore","applyMiddleware","run","App","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0ba1d2ec.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history'\r\n\r\nexport default createBrowserHistory()\r\n","function makeAsyncActionsTypes(prefix, actionName) {\r\n  return {\r\n    INDEX: `${prefix}/${actionName}/INDEX`,\r\n    REQUEST: `${prefix}/${actionName}/REQUEST`,\r\n    SUCCESS: `${prefix}/${actionName}/SUCCESS`,\r\n    FAIL: `${prefix}/${actionName}/FAIL`,\r\n  };\r\n}\r\n\r\nfunction makeActionCreator(actionType) {\r\n  return (payload) => ({ type: actionType, payload });\r\n}\r\n\r\nfunction makeAsyncActionCreator(actions) {\r\n  let actionCreator = makeActionCreator(actions.INDEX);\r\n  actionCreator.request = makeActionCreator(actions.REQUEST);\r\n  actionCreator.success = makeActionCreator(actions.SUCCESS);\r\n  actionCreator.fail = makeActionCreator(actions.FAIL);\r\n  return actionCreator;\r\n}\r\n\r\nexport { makeAsyncActionsTypes, makeActionCreator, makeAsyncActionCreator };\r\n","import { makeAsyncActionsTypes, makeActionCreator, makeAsyncActionCreator } from 'lib/saga/reduxActionUtils'\r\n\r\nconst prefix = '@CORE/ACCOUNT'\r\n\r\nexport const actionTypes = {\r\n  TOKEN_LOGIN: makeAsyncActionsTypes(prefix, 'TOKEN_LOGIN'),\r\n  LOGIN: makeAsyncActionsTypes(prefix, 'LOGIN'),\r\n  JOIN: makeAsyncActionsTypes(prefix, 'JOIN'),\r\n  LOGOUT: `${prefix}LOGOUT`,\r\n  FETCH_USER: makeAsyncActionsTypes(prefix, 'FETCH_USER'),\r\n  SET_USER: makeActionCreator(prefix, 'SET_USER'),\r\n}\r\n\r\nexport const tokenLogin = makeAsyncActionCreator(actionTypes.TOKEN_LOGIN)\r\nexport const login = makeAsyncActionCreator(actionTypes.LOGIN)\r\nexport const join = makeAsyncActionCreator(actionTypes.JOIN)\r\nexport const logout = makeActionCreator(actionTypes.LOGOUT)\r\nexport const fetchUser = makeAsyncActionCreator(actionTypes.FETCH_USER)\r\nexport const setUser = makeAsyncActionCreator(actionTypes.SET_USER)\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  user: null,\r\n  error: null,\r\n  login: {\r\n    loading: false,\r\n    error: null,\r\n  },\r\n  join: {\r\n    loading: false,\r\n    error: null,\r\n  },\r\n}\r\n\r\nconst reducer = function (state = initialState, action) {\r\n  // console.log(action)\r\n  switch (action.type) {\r\n    //  토큰로그인\r\n    case actionTypes.TOKEN_LOGIN.INDEX:\r\n    case actionTypes.TOKEN_LOGIN.REQUEST:\r\n      return {\r\n        ...state,\r\n        login: { ...state.login, loading: true, error: null },\r\n      }\r\n    case actionTypes.TOKEN_LOGIN.SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        login: { ...state.login, loading: false, error: null },\r\n      }\r\n    case actionTypes.TOKEN_LOGIN.FAIL:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        login: { ...state.login, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // 로그인\r\n    case actionTypes.LOGIN.INDEX:\r\n    case actionTypes.LOGIN.REQUEST:\r\n      return {\r\n        ...state,\r\n        login: { ...state.login, loading: true, error: null },\r\n      }\r\n    case actionTypes.LOGIN.SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        login: { ...state.login, loading: false, error: null },\r\n      }\r\n    case actionTypes.LOGIN.FAIL:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        login: { ...state.login, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // 회원가입\r\n    case actionTypes.JOIN.INDEX:\r\n    case actionTypes.JOIN.REQUEST:\r\n      return {\r\n        ...state,\r\n        join: { ...state.join, loading: true, error: null },\r\n      }\r\n    case actionTypes.JOIN.SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        join: { ...state.join, loading: false, error: null },\r\n      }\r\n    case actionTypes.JOIN.FAIL:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        join: { ...state.join, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // 로그아웃\r\n    case actionTypes.LOGOUT:\r\n      return initialState\r\n\r\n    // 유저정보\r\n    case actionTypes.FETCH_USER.INDEX:\r\n    case actionTypes.FETCH_USER.REQUEST:\r\n      return { ...state, loading: true }\r\n    case actionTypes.FETCH_USER.SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        loading: false,\r\n      }\r\n    case actionTypes.FETCH_USER.FAIL:\r\n      return { ...state, loading: false, error: action.payload.error }\r\n\r\n    // 클라이언트 로딩 시 유저세팅\r\n    case actionTypes.SET_USER:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n","import { makeActionCreator } from 'lib/saga/reduxActionUtils'\r\n\r\nconst prefix = '@CORE/APP'\r\n\r\nexport const actionTypes = {\r\n  LOADING: `${prefix}/LOADING`,\r\n  LOADED: `${prefix}/LOADED`,\r\n  SET_TOKEN: `${prefix}/SET_TOKEN`,\r\n  UNSET_TOKEN: `${prefix}/UNSET_TOKEN`,\r\n}\r\n\r\nexport const setLoaded = makeActionCreator(actionTypes.LOADED)\r\nexport const setToken = makeActionCreator(actionTypes.SET_TOKEN)\r\nexport const unSetToken = makeActionCreator(actionTypes.UNSET_TOKEN)\r\n\r\nconst initialState = {\r\n  loaded: false,\r\n  token: null,\r\n}\r\n\r\nconst reducer = function (state = initialState, action) {\r\n  // console.log(action)\r\n\r\n  switch (action.type) {\r\n    // 로딩\r\n    case actionTypes.LOADING:\r\n      return { ...state, loaded: false }\r\n    case actionTypes.LOADED:\r\n      return { ...state, loaded: true }\r\n    //토큰\r\n    case actionTypes.SET_TOKEN:\r\n      return { ...state, token: action.payload.token }\r\n    case actionTypes.UNSET_TOKEN:\r\n      return { ...state, token: null }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n","const prefix = process.env.REACT_APP_TOKEN_PREFIX\r\nexport const getToken = () => {\r\n  return localStorage.getItem(`${prefix}tkn`)\r\n}\r\n\r\nexport const setToken = (token) => {\r\n  return localStorage.setItem(`${prefix}tkn`, token)\r\n}\r\n\r\nexport const removeToken = () => {\r\n  return localStorage.removeItem(`${prefix}tkn`)\r\n}\r\n\r\nexport const getRemember = () => {\r\n  return localStorage.getItem(`${prefix}rmb`)\r\n}\r\n\r\nexport const setRemember = () => {\r\n  return localStorage.setItem(`${prefix}rmb`, true)\r\n}\r\n\r\nexport const removeRemember = () => {\r\n  return localStorage.removeItem(`${prefix}rmb`)\r\n}\r\n","import jwt from 'jsonwebtoken'\r\nimport { getToken, removeToken } from 'lib/token'\r\n\r\nconst getCheckedToken = () => {\r\n  let token = getToken()\r\n  // 토큰이 유효한지 체크\r\n  if (token) {\r\n    const decoded = jwt.decode(token)\r\n    const remains = decoded && decoded.exp ? decoded.exp - Math.round(new Date().getTime() / 1000) : 0\r\n    if (remains < 1) {\r\n      removeToken()\r\n      return null\r\n    }\r\n  }\r\n\r\n  return token\r\n}\r\n\r\nexport default getCheckedToken\r\n","import React, { useEffect } from 'react' // eslint-disable-line no-unused-vars\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { tokenLogin } from 'modules/core/account/store'\r\nimport { setLoaded } from '../../store'\r\nimport { getRemember } from 'lib/token'\r\nimport getCheckedToken from 'lib/request/getCheckedToken'\r\n\r\nconst token = getCheckedToken()\r\nconst remember = getRemember()\r\n\r\nconst AppLoader = () => {\r\n  const dispatch = useDispatch()\r\n  const isAuthenticated = useSelector((store) => !!store.account.user)\r\n\r\n  useEffect(() => {\r\n    isAuthenticated && dispatch(setLoaded())\r\n    !token && dispatch(setLoaded())\r\n    token && !isAuthenticated && dispatch(tokenLogin({ localToken: token.toString(), remember: remember }))\r\n  }, [isAuthenticated, dispatch])\r\n\r\n  return null\r\n}\r\n\r\nexport default AppLoader\r\n","import React, { useState } from 'react'\r\n\r\nimport { Form, Input, Button, Checkbox } from 'antd'\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\r\n\r\nconst Login = ({ handleSubmit, loading, error, links, isMobile }) => {\r\n  const [values, setValues] = useState({\r\n    loginId: '',\r\n    password: '',\r\n  })\r\n\r\n  const handleChange = (e) => {\r\n    // console.log(e.target.name, e.target.value, e.target.checked)\r\n    setValues({\r\n      ...values,\r\n      [e.target.name]:\r\n        e.target.name === 'remember' ? e.target.checked : e.target.value,\r\n    })\r\n  }\r\n\r\n  const onSubmit = () => {\r\n    if (values.loginId && values.password) handleSubmit(values)\r\n    else alert('아이디와 비밀번호를 입력해주세요')\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        maxWidth: 360,\r\n        margin: '100px auto 0',\r\n        padding: 20,\r\n        marginTop: isMobile ? 10 : 100,\r\n      }}\r\n    >\r\n      <div style={{ marginBottom: 30, textAlign: 'center' }}>\r\n        <span style={{ fontSize: 32, fontWeight: 'bold', color: '#1890ff' }}>\r\n          리뷰 관리\r\n        </span>\r\n      </div>\r\n      <Form className=\"login-form\">\r\n        <Form.Item\r\n          name=\"loginId\"\r\n          rules={[{ required: true, message: '아이디를 입력해주세요.' }]}\r\n        >\r\n          <Input\r\n            prefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n            name=\"loginId\"\r\n            type=\"text\"\r\n            placeholder=\"아이디\"\r\n            onChange={handleChange}\r\n            value={values.loginId}\r\n            size=\"large\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[{ required: true, message: '비밀번호를 입력해주세요.' }]}\r\n        >\r\n          <Input\r\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n            name=\"password\"\r\n            value={values.password}\r\n            onChange={handleChange}\r\n            type=\"password\"\r\n            placeholder=\"비밀번호\"\r\n            size=\"large\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            className=\"login-form-button\"\r\n            onClick={onSubmit}\r\n            size=\"large\"\r\n            block\r\n          >\r\n            로그인\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { login } from '../../store'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { useMediaQuery } from 'react-responsive'\r\n\r\nimport LoginComponent from '../../components/Login'\r\n\r\nconst LoginPage = (props) => {\r\n  const { isAuthenticated, loading, error, handleSubmit } = props\r\n  const isMobile = useMediaQuery({ maxWidth: 767 })\r\n\r\n  console.log(isAuthenticated)\r\n  if (isAuthenticated) return <Redirect to=\"/ceo/reviews\" />\r\n\r\n  return <LoginComponent {...{ handleSubmit, loading, error, isMobile }} />\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: !!state.account.user,\r\n  loading: state.account.login.loading,\r\n  error: state.account.login.loading,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  handleSubmit: (email, password, remember) =>\r\n    dispatch(login(email, password, remember)),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage)\r\n","import React from 'react'\r\nimport { Layout } from 'antd'\r\nconst { Content, Footer, Header } = Layout\r\n\r\nconst Page = ({ children, header, footer, contentStyle }) => {\r\n  return (\r\n    <>\r\n      {header && (\r\n        <Header className=\"site-layout-background\" style={{ padding: 0 }} />\r\n      )}\r\n      <Content>\r\n        <div\r\n          className=\"site-layout-background\"\r\n          style={{ padding: 24, minHeight: 300, ...contentStyle }}\r\n        >\r\n          {children}\r\n        </div>\r\n      </Content>\r\n      {footer && (\r\n        <Footer style={{ textAlign: 'center' }}>\r\n          Oin Design ©2020 Created by Oin\r\n        </Footer>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Page\r\n","import fetch from 'axios'\r\nimport getCheckedToken from './getCheckedToken'\r\n\r\nconst baseURL = process.env.REACT_APP_API_URL\r\n// axios 인스텐스 생성\r\nconst axios = fetch.create({ baseURL: baseURL })\r\n\r\naxios.interceptors.request.use(\r\n  (config) => {\r\n    if (config.baseURL === baseURL && !config.headers.Authorization) {\r\n      const token = getCheckedToken()\r\n      if (token) config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    return config\r\n  },\r\n  (error) => Promise.reject(error)\r\n)\r\n\r\n// 로그인/로그아웃 시에 헤더를 글로벌하게 세팅\r\nexport const setAuthHeader = (token) => {\r\n  axios.defaults.headers['Authorization'] = `Bearer ${token}`\r\n  return axios.defaults.headers\r\n}\r\n\r\nexport default axios\r\n","function ApiException(error) {\r\n  this.errors = error.errors\r\n  this.status = error.status\r\n  this.message = error.message\r\n}\r\n\r\nconst requestErrorHandler = (error) => {\r\n  // 정상적인 서버에러\r\n  if (error.response && error.response.data) {\r\n    console.log(error.response.data)\r\n    let message\r\n    if (error.response.status === 500) {\r\n      message = '서버에러 입니다.'\r\n    } else {\r\n      message = error.response.data.message ? error.response.data.message : error.response.data.errors && error.response.data.errors.default && error.response.data.errors.default[0]\r\n    }\r\n\r\n    const errorData = {\r\n      errors: error.response.data.errors,\r\n      status: error.response.status,\r\n      message: message,\r\n    }\r\n    throw new ApiException(errorData)\r\n  } else if (error.request) {\r\n    const errorData = {\r\n      errors: {},\r\n      status: 800,\r\n      message: '접속에러가 발생했습니다(8).',\r\n    }\r\n    throw new ApiException(errorData)\r\n  } else {\r\n    const errorData = {\r\n      errors: {},\r\n      status: 900,\r\n      message: '접속에러가 발생했습니다(9).',\r\n    }\r\n    throw new ApiException(errorData)\r\n  }\r\n}\r\n\r\nexport default requestErrorHandler\r\n","import axios from './axios'\r\nimport errorHandler from './requestErrorHandler'\r\n\r\nconst dataHandler = (res) => res.data\r\n\r\nconst getRequest = (url, data) => axios({ method: 'get', url, params: data }).then(dataHandler).catch(errorHandler)\r\nconst postRequest = (url, data) => axios({ method: 'post', url, data }).then(dataHandler).catch(errorHandler)\r\nconst putRequest = (url, data) => axios({ method: 'put', url, data }).then(dataHandler).catch(errorHandler)\r\nconst deleteRequest = (url) => axios({ method: 'delete', url }).then(dataHandler).catch(errorHandler)\r\nconst jsonRequest = (url, data) =>\r\n  axios({ method: 'post', url, data: data, headers: { 'Content-Type': 'application/json' } })\r\n    .then(dataHandler)\r\n    .catch(errorHandler)\r\nconst multipartRequest = (url, data) =>\r\n  axios({ method: 'post', url, data, headers: { 'Content-Type': 'multipart/form-data' } })\r\n    .then(dataHandler)\r\n    .catch(errorHandler)\r\n\r\nconst request = {\r\n  get: getRequest,\r\n  post: postRequest,\r\n  put: putRequest,\r\n  del: deleteRequest,\r\n  multi: multipartRequest,\r\n  json: jsonRequest,\r\n}\r\n\r\nexport default request\r\n","import request from 'lib/request'\r\nimport axios from 'lib/request/axios'\r\n// const getRequest = (url, data) =>\r\n//   axios({ method: 'get', url, params: data })\r\n//     .then(dataHandler)\r\n//     .catch(errorHandler)\r\n// const postRequest = (url, data) =>\r\n//   axios({ method: 'post', url, data }).then(dataHandler).catch(errorHandler)\r\n\r\nconst api = {\r\n  fetch: (meta) => request.get(`/api/ceo/reviews`, meta),\r\n  // fetch: () => axios({ method: 'get', url: `/api/ceo/reviews` }),\r\n  fetchCash: () => request.get(`/api/ceo/cashes`),\r\n  cash: () => request.get(`/api/ceo/cash`),\r\n  sendGifticon: (reviewId) => request.post(`/api/ceo/reviews/${reviewId}/send`),\r\n  resendGifticon: (reviewId) =>\r\n    request.post(`/api/ceo/reviews/${reviewId}/resend`),\r\n  cancelGifticon: (reviewId) =>\r\n    request.post(`/api/ceo/reviews/${reviewId}/cancel`),\r\n}\r\n\r\nexport default api\r\n","import React, { useState } from 'react'\nimport { Divider, Button, message, Modal, Space, Image } from 'antd'\nimport api from '../../api'\nimport moment from 'moment'\nimport 'moment/locale/ko'\n\nconst apiUrl = process.env.REACT_APP_API_URL\n\nconst ReviewDetail = (props) => {\n  const { open, review, handleClose, autoHyphen } = props\n  const [loading, setLoading] = useState(false)\n\n  if (!review) return null\n\n  const sendGifticon = () => {\n    console.log('send Gifticon')\n    setLoading(true)\n    api\n      .sendGifticon(review.id)\n      .then(() => {\n        handleClose()\n        message.success('발송되었습니다.')\n      })\n\n      .catch((error) => message.error(error.message))\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  const cancelGifticon = () => {\n    console.log('cancel ')\n    setLoading(true)\n    api\n      .cancelGifticon(review.id)\n      .then(() => {\n        handleClose()\n        message.success('취소되었습니다.')\n      })\n      .catch((error) => message.error(error.message))\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  const resendGifticon = () => {\n    console.log('resend')\n    setLoading(true)\n    api\n      .resendGifticon(review.id)\n      .then(() => {\n        handleClose()\n        message.success('재발송되었습니다.')\n      })\n      .catch((error) => message.error(error.message))\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  return (\n    <Modal\n      visible={open}\n      onCancel={handleClose}\n      onOk={handleClose}\n      style={{ top: 0 }}\n      footer={false}\n    >\n      <div key={review.id} style={{ padding: 10, marginBottom: 10 }}>\n        <div>[ {review.storeName} ]</div>\n        <div style={{ color: 'brown', fontWeight: 'bold', fontSize: 18 }}>\n          {autoHyphen(review.mobile)}\n        </div>\n        <div\n          style={{\n            color: 'gray',\n            fontWeight: 'bold',\n          }}\n        >\n          <div>{review.gifticonName}</div>\n        </div>\n        <div>\n          <span style={{ fontWeight: 'bold', color: 'brown' }}>\n            {moment(review.createdAt).fromNow()}\n          </span>{' '}\n          <span style={{ color: 'gray', fontSize: 13 }}>\n            {review.createdAt}\n          </span>\n        </div>\n        <Space style={{ marginTop: 20 }} align=\"center\">\n          {review.done === 'N' && (\n            <Button type=\"primary\" onClick={sendGifticon}>\n              발송\n            </Button>\n          )}\n          {review.done === 'Y' && (\n            <>\n              <Button onClick={resendGifticon}>재발송</Button>\n              <Button type=\"primary\" danger onClick={cancelGifticon}>\n                발송취소\n              </Button>\n            </>\n          )}\n          <Button onClick={handleClose}>닫기</Button>\n        </Space>\n        <Divider plain style={{ paddingTop: 20, paddingBottom: 20 }}>\n          리뷰캡쳐 사진\n        </Divider>\n        <div style={{}}>\n          <Image src={apiUrl + review.image} width=\"100%\" />\n        </div>\n      </div>\n    </Modal>\n  )\n}\n\nexport default ReviewDetail\n","import React, { useEffect, useState } from 'react'\nimport { Button, Row, Col, Input, Divider, Spin } from 'antd'\nimport ReviewDetail from '../ReviewDetail'\nimport moment from 'moment'\nimport 'moment/locale/ko'\nimport api from '../../api'\nimport { LoginOutlined } from '@ant-design/icons'\n\nconst ReviewList = (props) => {\n  const { user, handleLogout } = props\n  const [loading, setLoading] = useState(false)\n  const [reviews, setReviews] = useState([])\n  const [pagination, setPagenation] = useState(null)\n  const [open, setOpen] = useState(false)\n  const [currentReview, setCurrentReview] = useState(null)\n  const [mobile, setMobile] = useState(null)\n  const [cashes, setCashes] = useState([])\n  const [ceoCash, setCeoCash] = useState(0)\n\n  useEffect(() => {\n    fetch({})\n    fetchCash()\n    loadCeoCash()\n  }, [])\n\n  const fetch = (meta) => {\n    setLoading(true)\n    api\n      .fetch(meta)\n      .then((response) => {\n        console.log(response)\n        setReviews(response.data)\n        setPagenation({\n          page: response.current_page,\n          total: response.total,\n          lastPage: response.last_page,\n          perPage: response.per_page,\n        })\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  const handleSearch = () => {\n    fetch({ mobile: mobile })\n    fetchCash()\n\n    loadCeoCash()\n  }\n\n  const fetchCash = () => {\n    setLoading(true)\n    api\n      .fetchCash()\n      .then((response) => {\n        setCashes(response.cashes)\n        console.log(response)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  const loadCeoCash = () => {\n    setLoading(true)\n    api\n      .cash()\n      .then((response) => {\n        setCeoCash(response.ceoCash)\n        console.log(response)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  const handleOpen = (review) => {\n    setCurrentReview(review)\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setCurrentReview(null)\n    setOpen(false)\n    fetch({ page: pagination.page })\n    fetchCash()\n    loadCeoCash()\n  }\n\n  const handleNextPage = () => {\n    fetch({ page: pagination.page + 1 })\n    fetchCash()\n    loadCeoCash()\n    window.scrollTo(0, 0)\n  }\n\n  const handlePreviousPage = () => {\n    fetch({ page: pagination.page - 1 })\n    fetchCash()\n    loadCeoCash()\n    window.scrollTo(0, 0)\n  }\n\n  const handleChangeMobile = (e) => {\n    setMobile(e.target.value.replace(/[^0-9]/g, ''))\n  }\n\n  return (\n    <div style={{ margin: 20 }}>\n      <ReviewDetail\n        open={open}\n        review={currentReview}\n        handleClose={handleClose}\n        autoHyphen={autoHyphen}\n      />\n      <div style={{ display: 'flex' }}>\n        <div style={{ marginBottom: 30 }}>\n          <div style={{ fontSize: 18, fontWeight: 'bold' }}>\n            리뷰이벤트 참여리스트\n          </div>\n          <div style={{ color: 'gray' }}>\n            실제 배달앱의 리뷰와 캡쳐사진을 대조 확인 후 상품권을 발송해 주세요.\n          </div>\n        </div>\n        <div style={{ marginLeft: 40 }}>\n          <span\n            style={{ fontSize: 18, color: 'red', cursor: 'pointer' }}\n            onClick={handleLogout}\n          >\n            <LoginOutlined />\n          </span>\n        </div>\n      </div>\n      <div\n        style={{\n          borderBottom: '2px solid lightgray',\n          marginBottom: 10,\n          paddingBottom: 5,\n        }}\n      >\n        <Row gutter={10}>\n          <Col>\n            <div style={{ paddingTop: 3, fontSize: 16 }}>\n              <span style={{ color: 'gray' }}>\n                잔액:{' '}\n                <span style={{ fontWeight: 'bold', color: 'red' }}>\n                  {ceoCash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                </span>\n                원\n              </span>\n            </div>\n          </Col>\n          <Col flex=\"1 1 100px\">\n            <Input\n              name=\"mobile\"\n              value={mobile}\n              onChange={handleChangeMobile}\n              placeholder=\"폰번호 검색\"\n              type=\"number\"\n            />\n          </Col>\n          <Col>\n            <Button type=\"primary\" onClick={handleSearch}>\n              검색\n            </Button>\n          </Col>\n        </Row>\n      </div>\n      <div>\n        <Spin spinning={loading}>\n          {reviews.map((review) => {\n            return (\n              <div\n                key={review.id}\n                style={{\n                  padding: '10px 0',\n                  marginBottom: 10,\n                  borderBottom: '1px solid lightgray',\n                }}\n              >\n                <Row>\n                  <Col flex=\"1 1 200px\">\n                    <div>[ {review.storeName} ]</div>\n                    <div\n                      style={{\n                        color: review.done === 'N' ? '#197fd3' : 'brown',\n                        fontWeight: 'bold',\n                        fontSize: 18,\n                      }}\n                    >\n                      {autoHyphen(review.mobile)}\n                    </div>\n                    <div\n                      style={{\n                        color: 'gray',\n                        fontWeight: 'bold',\n                      }}\n                    >\n                      <div>{review.gifticonName}</div>\n                    </div>\n                    {/* <div>{review.gifticonBrand}</div> */}\n                    <div>\n                      <span style={{ color: 'gray', marginRight: 16 }}>\n                        {review.createdAt}\n                      </span>\n                      <span\n                        style={{\n                          fontWeight: 'bold',\n                          color: review.done === 'N' ? '#197fd3' : 'brown',\n                        }}\n                      >\n                        {moment(review.createdAt).fromNow()}\n                      </span>\n                    </div>\n                  </Col>\n                  <Col style={{ display: 'flex', alignItems: 'end' }}>\n                    <div>\n                      <Button\n                        onClick={() => handleOpen(review)}\n                        shape=\"round\"\n                        type={review.done === 'N' ? 'primary' : 'default'}\n                        disabled={review.done === 'C'}\n                        // danger\n                      >\n                        {review.done === 'Y' && '완료'}\n                        {review.done === 'C' && '취소'}\n                        {review.done === 'N' && '보기'}\n                      </Button>\n                    </div>\n                  </Col>\n                </Row>\n              </div>\n            )\n          })}\n        </Spin>\n        {pagination && (\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n            }}\n          >\n            <Button\n              type=\"primary\"\n              disabled={pagination.page - 1 < 1}\n              onClick={handlePreviousPage}\n            >\n              이전\n            </Button>\n            <Button type=\"text\">{pagination.page}</Button>\n            <Button\n              type=\"primary\"\n              disabled={pagination.lastPage === pagination.page}\n              onClick={handleNextPage}\n            >\n              다음\n            </Button>\n          </div>\n        )}\n        <Divider plain style={{ paddingTop: 20, paddingBottom: 20 }}>\n          리뷰왕 도토리맨\n        </Divider>\n        {/* <div style={{ padding: 30, textAlign: 'center' }}>\n        </div> */}\n      </div>\n    </div>\n  )\n}\n\nexport default ReviewList\n\nconst autoHyphen = (value) => {\n  return value\n    .replace(/[^0-9]/g, '')\n    .replace(/^(\\d{2,3})(\\d{3,4})(\\d{4})$/, `$1-$2-$3`)\n}\n","import React from 'react'\nimport { logout } from 'modules/core/account/store'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport ReviewList from 'modules/ceo/components/ReviewList'\n\nimport history from 'lib/history'\n\nconst ReviewListPage = (props) => {\n  const user = useSelector((store) => store.account.user)\n  const dispatch = useDispatch()\n  console.log(user)\n\n  if (!user || user.role !== 'ceo' || !user.id) return <Redirect to=\"/ceo\" />\n\n  const handleLogout = () => {\n    dispatch(logout())\n    history.push('/ceo')\n  }\n\n  return (\n    <div>\n      <ReviewList user={user} handleLogout={handleLogout} />\n    </div>\n  )\n}\n\nexport default ReviewListPage\n","import request from 'lib/request'\r\nimport axios from 'lib/request/axios'\r\n\r\nconst api = {\r\n  fetchEvent: (storeId, gifticonCode) =>\r\n    request.get(`/api/customer/review/${storeId}/${gifticonCode}`),\r\n\r\n  register: (storeId, gifticonCode, payload) =>\r\n    request.post(`/api/customer/review/${storeId}/${gifticonCode}`, payload),\r\n}\r\nexport default api\r\n","import React from 'react'\nimport { Button, Modal } from 'antd'\n\nconst terms = ` 1.수집 항목\n . 신청자: 휴대폰번호, 리뷰캡쳐사진, 주소, 메모\n . 운영자: 이메일주소, 사무실전화, 회사명\n . 생성 및 기타 수집 정보: 시스템 정보(IP, OS등)\n\n2.수집, 이용목적\n .  신청서비스 제공 및 모바일발송 안내, 서비스이용목에 대한 통계. 분석\n .  서비스 가입, 개통, 변경, 사후관리, 품질개선, 해지, 고지사항 전달.\n\n3.보유 및 이용기간\n . 이용자의 동의 없이 개인정보를 외부에 제공하지 않습니다.\n . 전자적 파일 형태의 경우 삭제후 재생이 불가한방법의로 파기 \n . 위 개인정보의 수집 이용제공과 관련하여 해지후 1 년까지 \n  보유 이용합니다. \n   \n4.거부권 및 거부시 불이익\n . 위 개인정보의 수집 이용 제공과 관련하여 개인정보 동의를 거부할수 있습니다. 다만, 개인정보는 리뷰왕도토리맨 서비스 이용을 위하여 반드시 필요한 정보이므로 개인정보 수집이용 등의 거부시에는 서비스 이용에 제한이 있을 수 있습니다.`\n\nconst TermsModal = (props) => {\n  const { modal, handleClose } = props\n\n  return (\n    <Modal\n      title=\"정보이용약관\"\n      visible={modal.open}\n      afterClose={handleClose}\n      onCancel={handleClose}\n      onOk={handleClose}\n      footer={false}\n      style={{ top: 4 }}\n    >\n      <div style={{ fontSize: 12 }}>\n        {terms.split('\\n').map((line, index) => {\n          return (\n            <span key={index}>\n              {line}\n              <br />\n            </span>\n          )\n        })}\n      </div>\n      <div style={{ marginTop: 24, textAlign: 'center' }}>\n        <Button type=\"primary\" onClick={handleClose}>\n          정보이용약관 확인\n        </Button>\n      </div>\n    </Modal>\n  )\n}\n\nexport default TermsModal\n","import React, { useEffect, useState } from 'react'\nimport { Button, Input, Checkbox, Upload, message } from 'antd'\nimport TermsModal from './TermsModal'\nimport { InteractionOutlined, UploadOutlined } from '@ant-design/icons'\nimport api from 'modules/customer/api'\n\nconst initialModal = {\n  open: false,\n}\n\nconst initialInputs = {\n  mobile: '',\n  image: '',\n  message: '',\n  confirm: false,\n}\n\nconst apiUrl = process.env.REACT_APP_API_URL\n\nconst ReviewForm = (props) => {\n  const { event, history } = props\n  const [modal, setModal] = useState(initialModal)\n  const [inputs, setInputs] = useState(initialInputs)\n\n  const [loading, setLoading] = useState(false)\n\n  const uploadProps = {\n    name: 'photo',\n    multiple: false,\n    action:\n      event &&\n      `${apiUrl}/api/customer/review/${event.storeId}/${event.gifticonCode}/photo`,\n    // headers: {\n    //   authorization: `Bearer ${getCheckedToken()}`,\n    // },\n    accept: 'image/x-png,image/gif,image/jpeg',\n    // fileList: fileList,\n    onChange(info) {\n      if (info.file.status !== 'uploading') {\n        setLoading(true)\n      }\n      if (info.file.status === 'done') {\n        // console.log(info.file)\n        // console.log(info.file.response.photo.image)\n        setInputs({ ...inputs, image: info.file.response.photo.image })\n        setLoading(false)\n      } else if (info.file.status === 'error') {\n        console.log('error')\n        // message.error(`사진 등록에 실패했습니다..`)\n        setLoading(false)\n      }\n    },\n  }\n\n  const handleSubmit = () => {\n    const patternMobile = /01[016789][0-9]{7,8}/\n    if (!inputs.mobile || !patternMobile.test(inputs.mobile)) {\n      message.error('휴대폰번호를 확인해주세요.')\n      return false\n    }\n    if (!inputs.image) {\n      message.error('리뷰 캡쳐사진을 등록해주세요.')\n      return false\n    }\n    if (!inputs.confirm) {\n      message.error('정보이용약관에 동의해주세요.')\n      return false\n    }\n\n    api\n      .register(event.storeId, event.gifticonCode, inputs)\n      .then((response) => {\n        history.push('/review/success')\n        console.log(response)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n\n  const handleOpen = () => {\n    setModal({ ...modal, open: true })\n  }\n\n  const handleClose = () => {\n    setModal({ ...modal, open: false })\n  }\n\n  const handleChangeMobile = (e) => {\n    setInputs({\n      ...inputs,\n      mobile: e.target.value.replace(/[^0-9]/g, ''),\n    })\n  }\n\n  const handleChangeInput = (e) => {\n    setInputs({\n      ...inputs,\n      [e.target.name]: e.target.value,\n    })\n  }\n\n  console.log(inputs)\n  return (\n    <div>\n      <div style={{ padding: 20 }}>\n        <div style={{ fontSize: 18, marginBottom: 10 }}>\n          <div style={{ color: '#1890ff' }}>\n            <span style={{ fontWeight: 'bold' }}>{event.storeName}</span>에서\n          </div>\n          <div>\n            <span style={{ fontWeight: 'bold' }}>{event.gifticonName}</span>{' '}\n            받는 방법\n          </div>\n        </div>\n        <div\n          style={{\n            fontWeight: 'bold',\n            color: 'gray',\n            borderLeft: '5px solid #1890ff',\n            paddingLeft: 10,\n            marginLeft: 10,\n          }}\n        >\n          <div>1. 배달앱에 별다섯개+사진리뷰를 쓴다.</div>\n          <div>2. 닉네임이 보이게 캡쳐하여 첨부한다.</div>\n          <div>3. 문자메시지로 상품권을 받는다.</div>\n        </div>\n      </div>\n      <div style={{ padding: '0 20px' }}>\n        <div style={{ fontWeight: 'bold', marginBottom: 4 }}>\n          상품권 받을 폰번호\n        </div>\n        <div>\n          <Input\n            name=\"mobile\"\n            value={inputs.mobile}\n            type=\"number\"\n            onChange={handleChangeMobile}\n            placeholder=\"01012345678\"\n            maxLength={11}\n            style={{ fontWeight: 'bold' }}\n          />\n        </div>\n        <div style={{ marginTop: 16, fontWeight: 'bold' }}>\n          <span style={{ fontWeight: 'bold' }}>리뷰 캡쳐사진 첨부</span>\n          <span style={{ color: 'lightgray' }}>(이번 주문 리뷰)</span>\n        </div>\n        <div\n          style={{\n            minHeight: 150,\n            textAlign: 'center',\n            backgroundColor: 'lightgray',\n            borderRadius: 20,\n          }}\n        >\n          <div>\n            <Upload {...uploadProps} showUploadList={false}>\n              {inputs.image ? (\n                <div style={{ textAlign: 'center', padding: 20 }}>\n                  <div style={{ textAlign: 'center' }}>\n                    <img\n                      src={apiUrl + inputs.image}\n                      alt=\"리뷰이미지\"\n                      width={200}\n                    />\n                  </div>\n                </div>\n              ) : (\n                <div style={{ marginTop: 50 }}>\n                  <Button\n                    type=\"primary\"\n                    size=\"large\"\n                    icon={<UploadOutlined />}\n                    block\n                    disabled={loading}\n                  >\n                    사진등록\n                  </Button>\n                </div>\n              )}\n            </Upload>\n          </div>\n        </div>\n        <div style={{ marginTop: 16, fontWeight: 'bold' }}>남기실 말씀</div>\n        <div>\n          <Input name=\"message\" onChange={handleChangeInput} maxLength={200} />\n        </div>\n      </div>\n      {/* <div style={{ position: 'fixed', bottom: 0, width: '100%' }}> */}\n      <div style={{ marginTop: 16 }}>\n        <div style={{ padding: '0 20px 10px' }}>\n          <Checkbox\n            value={inputs.confirm}\n            onChange={() => setInputs({ ...inputs, confirm: !inputs.confirm })}\n          >\n            정보이용약관에 동의합니다.\n            <span\n              style={{ cursor: 'pointer', color: 'blue', marginLeft: 8 }}\n              onClick={handleOpen}\n            >\n              [약관보기]\n            </span>\n          </Checkbox>\n        </div>\n        <div\n          style={{\n            cursor: 'pointer',\n            padding: 16,\n            textAlign: 'center',\n            backgroundColor: '#ffeb33',\n            border: '1px solid lightgray',\n            borderRadius: 10,\n            margin: '10px 20px 0',\n          }}\n          onClick={handleSubmit}\n        >\n          <span style={{ fontSize: 16, fontWeight: 'bold' }}>신청하기</span>\n        </div>\n      </div>\n      <TermsModal handleClose={handleClose} modal={modal} />\n    </div>\n  )\n}\n\nexport default ReviewForm\n","import React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport api from '../../api'\nimport ReviewForm from 'modules/customer/components/ReviewForm'\nimport { useHistory } from 'react-router-dom'\n\nconst ReviewEventPage = (props) => {\n  let { storeId, gifticonCode } = useParams()\n\n  const [event, setEvent] = useState(null)\n  const history = useHistory()\n\n  useEffect(() => {\n    fetchEvent()\n  }, [])\n\n  const fetchEvent = () => {\n    api\n      .fetchEvent(storeId, gifticonCode)\n      .then((response) => {\n        console.log(response)\n        setEvent(response.event)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n\n  return <div>{event && <ReviewForm event={event} history={history} />}</div>\n}\n\nexport default ReviewEventPage\n","import React from 'react'\nimport { Alert, Divider } from 'antd'\n\nconst ReviewSuccessPage = (props) => {\n  return (\n    <div>\n      <div>\n        <img src=\"/images/banner.jpg\" alt=\"리뷰왕 도토리맨\" width=\"100%\" />\n      </div>\n      <div style={{ padding: '50px 20px', textAlign: 'center' }}>\n        <Alert\n          type=\"success\"\n          style={{ marginBottom: 20, padding: 20 }}\n          message={\n            <div>\n              <div>\n                <span style={{ fontWeight: 'bold' }}>\n                  리뷰이벤트에 등록되었습니다.\n                </span>\n              </div>\n              <div style={{ marginTop: 20 }}>\n                <span style={{ fontWeight: 'bold' }}>\n                  이용해 주셔서 감사합니다.\n                </span>\n              </div>\n            </div>\n          }\n        />\n        <Divider />\n        <div>리뷰왕 도토리맨</div>\n      </div>\n    </div>\n  )\n}\n\nexport default ReviewSuccessPage\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport { AppLoader } from 'modules/core/app'\r\nimport { logout } from 'modules/core/account/store'\r\nimport history from 'lib/history'\r\n\r\n// core modules routes\r\nimport { LoginPage } from 'modules/core/account'\r\n// import LoginPage from 'modules/ceo/containers/LoginPage'\r\n\r\n// ceo\r\nimport ReviewListPage from 'modules/ceo/containers/ReviewListPage'\r\n\r\n// customer\r\nimport ReviewEventPage from 'modules/customer/containers/ReviewEventPage'\r\nimport ReviewSuccessPage from 'modules/customer/containers/ReviewSuccessPage'\r\n\r\nconst Routes = (props) => {\r\n  const loaded = useSelector((store) => store.app.loaded)\r\n\r\n  if (!loaded) return <AppLoader />\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        {/* <Route path=\"/\" exact render={() => <Redirect to=\"/stores\" />} /> */}\r\n        <Route path=\"/ceo\" exact component={LoginPage} />\r\n        <Route path=\"/ceo/reviews\" exact component={ReviewListPage} />\r\n        <Route path=\"/review/success\" exact component={ReviewSuccessPage} />\r\n        <Route\r\n          path=\"/review/:storeId/:gifticonCode\"\r\n          exact\r\n          component={ReviewEventPage}\r\n        />\r\n        {/* <Route path=\"*\" render={() => <Redirect to=\"/stores\" />} /> */}\r\n      </Switch>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Routes\r\n","import { takeEvery, all } from 'redux-saga/effects'\r\nimport { unSetToken } from './store'\r\n// import { removeToken } from 'lib/token'\r\nimport { removeToken, removeRemember } from 'lib/token'\r\n\r\nimport { actionTypes as accountTypes } from 'modules/core/account/store'\r\nimport { setAuthHeader } from 'lib/request/axios'\r\n\r\nfunction resetToken() {\r\n  unSetToken()\r\n  removeToken()\r\n  removeRemember()\r\n  setAuthHeader(undefined)\r\n}\r\n\r\nexport default function* clientSaga() {\r\n  yield all([takeEvery(accountTypes.LOGOUT, resetToken)])\r\n}\r\n","import request from 'lib/request'\r\n\r\nconst accountApi = {\r\n  getUser: () => request.get('/api/account/me'),\r\n  login: ({ loginId, password, remember }) => request.post('/api/login', { loginId, password, remember }),\r\n  forceLogin: (id) => request.get(`/api/admin/forceLogin/${id}`),\r\n  // 혅재 유저 비밀번호 변경\r\n  password: (payload) => request.post('/api/account/password', payload),\r\n}\r\n\r\nexport default accountApi\r\n","import { message } from 'antd'\r\n\r\nexport default message\r\n","import { call, all, put, takeLatest } from 'redux-saga/effects'\r\nimport history from 'lib/history'\r\nimport { actionTypes as accountTypes } from './store'\r\nimport { login, tokenLogin, join } from './store'\r\nimport api from './api'\r\nimport { setAuthHeader } from 'lib/request/axios'\r\nimport { setToken as setTokenAction, setLoaded } from 'modules/core/app/store'\r\nimport { setToken, removeToken, getRemember, setRemember } from 'lib/token'\r\nimport message from 'lib/message'\r\n\r\nconst { TOKEN_LOGIN, LOGIN, JOIN } = accountTypes\r\n// 추가 에러 처리\r\nfunction errorHandler(error) {}\r\n\r\nfunction* loginSaga(action) {\r\n  // console.log(action)\r\n  yield put(login.request())\r\n  try {\r\n    const payload = action.payload\r\n    // console.log(payload)\r\n    const result = yield call(api.login, payload)\r\n    // console.log(result)\r\n    setToken(result.user.token)\r\n    payload.remember && setRemember()\r\n    setAuthHeader(result.user.token)\r\n    yield put(login.success(result))\r\n    yield put(setTokenAction({ token: result.user.token }))\r\n    history.push('/ceo/reviews')\r\n  } catch (error) {\r\n    message.error('인증정보가 일치하지 않습니다.')\r\n    const failAction = login.fail({ error })\r\n    yield call(errorHandler, failAction)\r\n    yield put(failAction)\r\n  }\r\n}\r\n\r\nfunction* tokenLoignSaga(action) {\r\n  yield put(tokenLogin.request())\r\n  try {\r\n    const remember = getRemember()\r\n    // console.log(remember)\r\n    const result = yield call(api.getUser, remember)\r\n    // console.log(result)\r\n    // yield put(setTokenAction({ token: result.user.token }))\r\n    // setToken(result.user.token)\r\n    // setAuthHeader(result.user.token)\r\n    yield put(tokenLogin.success(result))\r\n  } catch (error) {\r\n    // console.error(error)\r\n    if (error && error.status === 401) {\r\n      removeToken()\r\n    }\r\n    yield put(tokenLogin.fail({ error }))\r\n    yield put(setLoaded())\r\n  }\r\n}\r\n\r\nfunction* joinSaga(action) {\r\n  // console.log(action)\r\n  yield put(join.request())\r\n  try {\r\n    const payload = action.payload\r\n    const result = yield call(api.join, payload)\r\n    // console.log(result)\r\n    yield put(join.success(result))\r\n    yield put(setTokenAction({ token: result.user.token }))\r\n    setToken(result.user.token)\r\n    history.push('/')\r\n  } catch (error) {\r\n    // console.error(error)\r\n    const failAction = login.fail({ error })\r\n    yield call(errorHandler, failAction)\r\n    yield put(failAction)\r\n  }\r\n}\r\n\r\nexport default function* accountSagas() {\r\n  yield all([\r\n    takeLatest(LOGIN.INDEX, loginSaga),\r\n    takeLatest(TOKEN_LOGIN.INDEX, tokenLoignSaga),\r\n    takeLatest(JOIN.INDEX, joinSaga),\r\n  ])\r\n}\r\n","// replace 1. Agencies => Stores\r\n// replace 2. AGENCIES => STORES\r\n// replace 3. agencies => stores\r\nimport {\r\n  makeAsyncActionsTypes,\r\n  makeActionCreator,\r\n  makeAsyncActionCreator,\r\n} from 'lib/saga/reduxActionUtils'\r\nimport produce from 'immer'\r\n/************************************************************************\r\n // 1. action types\r\n \r\n FETCH_AGENCIES.INDEX\r\n FETCH_AGENCIES.REQUEST\r\n FETCH_AGENCIES.SUCCESS\r\n FETCH_AGENCIES.FAIL\r\n NORMAL_ACTION\r\n ************************************************************************/\r\nconst prefix = '@APP/AGENCIES'\r\n\r\nexport const actionTypes = {\r\n  FETCH_AGENCIES: makeAsyncActionsTypes(prefix, 'FETCH_AGENCIES'),\r\n  FETCH_ONE_AGENCIES: makeAsyncActionsTypes(prefix, 'FETCH_ONE_AGENCIES'),\r\n  CREATE_AGENCIES: makeAsyncActionsTypes(prefix, 'CREATE_AGENCIES'),\r\n  UPDATE_AGENCIES: makeAsyncActionsTypes(prefix, 'UPDATE_AGENCIES'),\r\n  DELETE_AGENCIES: makeAsyncActionsTypes(prefix, 'DELETE_AGENCIES'),\r\n  CLOSE_MODAL: `${prefix}/CLOSE_MODAL`,\r\n  OPEN_MODAL: `${prefix}/OPEN_MODAL`,\r\n  REMOVE_ERROR: `${prefix}/REMOVE_ERROR`,\r\n}\r\n\r\n/************************************************************************\r\n// 2. action creator\r\n\r\nfetchAgencies(payload)\r\nfetchAgencies.request(payload)\r\nfetchAgencies.success(payload)\r\nfetchAgencies.fail(payload)\r\nresetUser(payload)\r\n************************************************************************/\r\nexport const fetchAgencies = makeAsyncActionCreator(actionTypes.FETCH_AGENCIES)\r\nexport const fetchOneAgencies = makeAsyncActionCreator(\r\n  actionTypes.FETCH_ONE_AGENCIES\r\n)\r\nexport const createAgencies = makeAsyncActionCreator(\r\n  actionTypes.CREATE_AGENCIES\r\n)\r\nexport const updateAgencies = makeAsyncActionCreator(\r\n  actionTypes.UPDATE_AGENCIES\r\n)\r\nexport const deleteAgencies = makeAsyncActionCreator(\r\n  actionTypes.DELETE_AGENCIES\r\n)\r\nexport const closeModal = makeActionCreator(actionTypes.CLOSE_MODAL)\r\nexport const openModal = makeActionCreator(actionTypes.OPEN_MODAL)\r\nexport const removeError = makeActionCreator(actionTypes.REMOVE_ERROR)\r\n/***********************************************************************\r\n// 3. reducer\r\nerror format\r\n{\r\n  status: 422,\r\n  message: \"입력값을 확인해주세요.\",\r\n  errors: [\r\n    email: [{...}]\r\n  ]\r\n}\r\n\r\n************************************************************************/\r\nconst initialModalState = {\r\n  open: false,\r\n  requesting: false,\r\n  error: null,\r\n  agency: null,\r\n}\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  agencies: [],\r\n  modal: initialModalState,\r\n}\r\n\r\nconst agenciesReducer = function (state = initialState, action) {\r\n  switch (action.type) {\r\n    // FETCH_AGENCIES\r\n    case actionTypes.FETCH_AGENCIES.INDEX:\r\n    case actionTypes.FETCH_AGENCIES.REQUEST:\r\n      return produce(state, (draft) => {\r\n        draft.loading = true\r\n      })\r\n    case actionTypes.FETCH_AGENCIES.SUCCESS:\r\n      return {\r\n        ...state,\r\n        agencies: [...action.payload.agencies],\r\n        // agencies: action.payload.agencies,\r\n        loading: false,\r\n      }\r\n    case actionTypes.FETCH_AGENCIES.FAIL:\r\n      return { ...state, loading: false, error: action.payload.error }\r\n\r\n    // FETCH_ONE_AGENCIES\r\n    case actionTypes.FETCH_ONE_AGENCIES.INDEX:\r\n    case actionTypes.FETCH_ONE_AGENCIES.REQUEST:\r\n      return { ...state, modal: { ...state.modal, requesting: true } }\r\n    case actionTypes.FETCH_ONE_AGENCIES.SUCCESS:\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          requesting: false,\r\n          agency: action.payload.agency,\r\n        },\r\n      }\r\n    case actionTypes.FETCH_ONE_AGENCIES.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          requesting: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n\r\n    // CREATE_AGENCIES\r\n    case actionTypes.CREATE_AGENCIES.INDEX:\r\n    case actionTypes.CREATE_AGENCIES.REQUEST:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, open: true, requesting: true },\r\n      }\r\n    case actionTypes.CREATE_AGENCIES.SUCCESS:\r\n      return { ...state, modal: { ...state.modal, requesting: false } }\r\n    case actionTypes.CREATE_AGENCIES.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          requesting: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n\r\n    // UPDATE_AGENCIES\r\n    case actionTypes.UPDATE_AGENCIES.INDEX:\r\n    case actionTypes.UPDATE_AGENCIES.REQUEST:\r\n      return { ...state, modal: { ...state.modal, loading: true } }\r\n    case actionTypes.UPDATE_AGENCIES.SUCCESS:\r\n      return { ...state, modal: { ...state.modal, loading: false }, agency: {} }\r\n    case actionTypes.UPDATE_AGENCIES.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // DELETE_AGENCIES\r\n    case actionTypes.DELETE_AGENCIES.INDEX:\r\n    case actionTypes.DELETE_AGENCIES.REQUEST:\r\n      return { ...state, modal: { ...state.modal, loading: true } }\r\n    case actionTypes.DELETE_AGENCIES.SUCCESS:\r\n      return { ...state, modal: { ...state.modal, loading: false } }\r\n    case actionTypes.DELETE_AGENCIES.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // OPEN_MODAL\r\n    case actionTypes.OPEN_MODAL:\r\n      return { ...state, modal: { ...state.modal, open: true } }\r\n\r\n    // CLOSE_MODAL\r\n    case actionTypes.CLOSE_MODAL:\r\n      return {\r\n        ...state,\r\n        modal: initialModalState,\r\n      }\r\n\r\n    case actionTypes.REMOVE_ERROR:\r\n      return produce(state, (draft) => {\r\n        draft.modal.error.errors[action.payload.name] = undefined\r\n      })\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default agenciesReducer\r\n","import request from 'lib/request'\r\n\r\nconst agenciesApi = {\r\n  fetch: (meta) => request.get('/api/agencies', meta),\r\n  fetchOne: (agency) => request.get(`/api/agencies/${agency.id}`),\r\n  create: (agency) => request.post('/api/agencies', agency),\r\n  update: (agency) => request.put(`/api/agencies/${agency.id}`, agency),\r\n  delete: (agency) => request.del(`/api/agencies/${agency.id}`),\r\n}\r\n\r\nexport default agenciesApi\r\n","import { call, put } from 'redux-saga/effects'\r\nimport history from 'lib/history'\r\n\r\nfunction errorHandler(failAction) {\r\n  const error = failAction.payload.error\r\n  // console.log(error)\r\n  if (error.status === 401) {\r\n    history.push('/login')\r\n  }\r\n  // if (error.status === 403) {\r\n  //   history.push('/')\r\n  // }\r\n  // if (error.status === 404) {\r\n  //   history.push('/')\r\n  // }\r\n  // if (error.status === 500) {\r\n  //   history.push('/')\r\n  // }\r\n  // if (failAction.payload.error && failAction.payload.error.message) {\r\n  //   const payload = {\r\n  //     message: failAction.payload.error.message,\r\n  //     severity: 'error',\r\n  //   }\r\n  //   // yield put(clientActions.openToast(payload))\r\n  // }\r\n  // // yield call openToast(\"error\");\r\n  // yield call(tttt)\r\n}\r\n\r\nexport default function* apiSaga(api, asyncAction, options) {\r\n  yield put(asyncAction.request())\r\n  try {\r\n    const payload = options && options.apiPayload\r\n    const result = yield call(api, payload)\r\n    yield put(asyncAction.success(result))\r\n    return true\r\n  } catch (error) {\r\n    console.log(error)\r\n    const failAction = asyncAction.fail({ error })\r\n    yield call(errorHandler, failAction)\r\n    yield put(failAction)\r\n    return false\r\n  }\r\n}\r\n","import { takeLatest, takeEvery, all, call, put } from 'redux-saga/effects'\r\nimport { actionTypes } from './store'\r\nimport { fetchAgencies, createAgencies, fetchOneAgencies, updateAgencies, deleteAgencies, closeModal } from './store'\r\nimport api from './api'\r\nimport apiSaga from 'lib/saga/apiSaga'\r\nimport message from 'lib/message'\r\n\r\nconst { FETCH_AGENCIES, CREATE_AGENCIES, FETCH_ONE_AGENCIES, UPDATE_AGENCIES, DELETE_AGENCIES } = actionTypes\r\n\r\n// 1. fetch\r\nexport function* fetchAgenciesSaga(action) {\r\n  yield call(apiSaga, api.fetch, fetchAgencies, { apiPayload: action.payload })\r\n}\r\n\r\n// 2. create\r\nexport function* createAgenciesSaga(action) {\r\n  const success = yield call(apiSaga, api.create, createAgencies, { apiPayload: action.payload })\r\n  if (success) {\r\n    yield put(closeModal())\r\n    message.success('대리점이 생성되었습니다.')\r\n  } else {\r\n    message.error('입력내용을 확인해주세요')\r\n  }\r\n}\r\n\r\n// 3. fetchOne\r\nexport function* fetchOneAgenciesSaga(action) {\r\n  yield call(apiSaga, api.fetchOne, fetchOneAgencies, { apiPayload: action.payload })\r\n}\r\n\r\n// 4. update\r\nexport function* updateAgenciesSaga(action) {\r\n  const success = yield call(apiSaga, api.update, updateAgencies, { apiPayload: action.payload })\r\n  if (success) {\r\n    yield put(closeModal())\r\n    message.success('대리점이 수정되었습니다.')\r\n  } else {\r\n    message.error('입력내용을 확인해주세요')\r\n  }\r\n}\r\n\r\n// 5. delete\r\nexport function* deleteAgenciesSaga(action) {\r\n  const success = yield call(apiSaga, api.delete, deleteAgencies, { apiPayload: action.payload })\r\n  if (success) {\r\n    yield put(closeModal())\r\n    message.success('대리점이 삭제되었습니다.')\r\n  } else {\r\n    message.error('삭제중 에러가 발생했습니다.')\r\n  }\r\n}\r\n\r\nexport default function* agenciesSagas() {\r\n  yield all([\r\n    takeLatest(FETCH_AGENCIES.INDEX, fetchAgenciesSaga),\r\n    takeLatest(CREATE_AGENCIES.INDEX, createAgenciesSaga),\r\n    takeEvery(FETCH_ONE_AGENCIES.INDEX, fetchOneAgenciesSaga),\r\n    takeLatest(UPDATE_AGENCIES.INDEX, updateAgenciesSaga),\r\n    takeLatest(DELETE_AGENCIES.INDEX, deleteAgenciesSaga),\r\n  ])\r\n}\r\n","import { all } from 'redux-saga/effects'\r\nimport appSagas from './app/sagas'\r\nimport accountSagas from './account/sagas'\r\nimport agenciesSagas from './agencies/sagas'\r\n\r\nimport app from './app/store'\r\nimport account from './account/store'\r\nimport agencies from './agencies/store'\r\n\r\nconst reducers = {\r\n  app,\r\n  account,\r\n  agencies,\r\n}\r\n\r\nfunction* sagas() {\r\n  yield all([appSagas(), accountSagas(), agenciesSagas()])\r\n}\r\n\r\nexport { reducers, sagas }\r\n","import { combineReducers } from 'redux'\r\nimport { reducers as coreReducers } from 'modules/core'\r\n\r\nconst rootReducer = combineReducers({\r\n  ...coreReducers,\r\n})\r\n\r\nexport default rootReducer\r\n","import { all } from 'redux-saga/effects'\r\nimport { sagas as coreSagas } from 'modules/core'\r\n\r\nexport default function* rootSaga() {\r\n  yield all([coreSagas()])\r\n  // yield all([coreSagas()])\r\n}\r\n\r\n// How to Handle Multiple Sagas in Redux Saga https://www.youtube.com/watch?v=fEjevUGH4BU\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport rootReducer from './rootReducer'\r\nimport rootSaga from './rootSaga'\r\n\r\nconst sagaMiddleware = createSagaMiddleware()\r\n/*eslint-disable */\r\nconst composeSetup =\r\n  process.env.NODE_ENV !== 'production' && typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    : compose\r\n/*eslint-enable */\r\n// console.log(\"process.env.NODE_ENV:\" + process.env.NODE_ENV);\r\nconst store = createStore(rootReducer, composeSetup(applyMiddleware(sagaMiddleware)))\r\n\r\n// console.log(\"store..........\");\r\n// rootSaga 시작\r\nsagaMiddleware.run(rootSaga)\r\n\r\nexport default store\r\n","import React from 'react'\r\nimport { Provider } from 'react-redux'\r\n// import { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Router } from 'react-router-dom'\r\nimport history from 'lib/history'\r\n\r\nimport Routes from './Routes'\r\nimport store from './store'\r\n\r\nimport 'antd/dist/antd.css'\r\nimport 'antd-button-color/dist/css/style.css'\r\nimport './app.css'\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <Router history={history}>\r\n        <Routes />\r\n      </Router>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}